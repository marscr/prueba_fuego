/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

                                                                              Funciones básicas tipo JQUERY

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*/

//Función para agregar contenido a elmentos
function addContent(element,content){
  $(element).innerHTML+=content;
}// Fin funcion addContent
//Función para elminar el contenido de algún elemento
function deleteContent(element){
  $(element).innerHTML='';
}//fin función deleteContent
// Obtener elementos
function $(element){
  return document.querySelector(element);
}//Fin función $ para seleccionar elementos del DOM

/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

                                                                              Función que inicia

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*/
(function() {
  // Avisa si el DOM cargó por completo
  document.addEventListener('DOMContentLoaded', function () {
    menu_events();//Carga los eventos al menú
    loadHTML('main','content/inicio.html');//Carga por Default la pagina de inicio
    loadHTML('#content','inicio.html');///////////////////Eliminar************************************************************************
  });   ///////////////Se ejecuta al cargar por completo el DOM
})();//Fin función que se ejecuta automáticamente y contiene función que indica cuando cargó el DOM

//////////////////////////////////////////////////////////////////ELIMINAR **************************************************************************
//Función de prueba para probar funcionalidad del menú*/
function mensaje(msj){
  console.log(msj);
}//Fin función mensaje
///////////////////////////////////////////////////////////////////ELIMINAR **************************************************************************
/*////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                    Función para agregar eventos
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*/
function addEvents(element,type, func){
  $(element).addEventListener(type,func);
}



/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

                                                                              Botones de Navegación

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*/
///////////////////////////////////////////////////////////Función que agrega eventos a los botones del menú/////////////////////////////////////////////////////////////////////////////
function menu_events(){
  var menuBtns=['#inicioBtn','#ej1','#ej2','#expl'];
  //ciclo que recorre el arreglo del menú
  var evento='';
  for(var i=0;i<menuBtns.length;i++){
    evento = function(){
      var auxiliar=0;
      switch(this.id){
        case 'inicioBtn':
          auxiliar='content/inicio.html';
        break;
        case 'ej1':
          auxiliar='content/ej1.html';
          //cargar_ejemplo1();
        break;
        default:
          mensaje(this.innerHTML);
        break;
      }//fin switch
      if(auxiliar!=0){
        loadHTML('main',auxiliar.toString(),2);
      }
    };//Agrega la función
    addEvents(menuBtns[i],'click',evento);
  }
}//Fin función menu_events

/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

                                                                              Cargar html externo

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*/
///////////////////////////////////////Funcion para cargar contenido de archivos//////////////////////////////////////////////////////////////////////////////////
function loadHTML(element,dir,eventos){
  //Referencia: http://entredesarrolladores.com/4069/cargar-un-div-externo-con-ajax-sin-jquery
  var xmlhttp;
  if (window.XMLHttpRequest) {
    // code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttp = new XMLHttpRequest();
  }
  else {
    // code for IE6, IE5
    xmlhttp = new ActiveXObject('Microsoft.XMLHTTP');
  }
  xmlhttp.onreadystatechange = function() {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
        //$(element).innerHTML = xmlhttp.responseText;
        deleteContent(element);//Limpia contenido
        addContent(element,xmlhttp.responseText);//Agrega contenido
        cargar_eventos(eventos);//Carga eventos del contenido
    }
  }
  xmlhttp.open('GET',dir, true);
  xmlhttp.send();
}

/*///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

                                                                              Cargar Eventos de cada pagina

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*/
/*/////////////////////////////////////////////////////////////////////////
                                Ejercicio 1
/////////////////////////////////////////////////////////////////////////*/
function   cargar_ejemplo1(){
  //console.log($('#agergar'));
  console.log("Elemento X: " + $('#lista'));
  console.log("Formulario: " + $('form'));
}//carga los eventos del ejercicio 1
/*//////////////////////////////////////////////////
    Carga los eventos cuando se cargó el contenido ajax
//////////////////////////////////////////////*/

function cargar_eventos(eventos){
  switch (eventos) {
    case 2:
      cargar_ejemplo1();
    break;
    default:
    break;
  }
}
